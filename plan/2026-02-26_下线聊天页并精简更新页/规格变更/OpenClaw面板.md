# OpenClaw面板 - 变更

## 移除需求

### 需求：智能对话主页面

**移除原因**：该能力由龙虾 Bot 自带 Web UI 承担，控制面板保留该页会造成重复入口和维护负担。
**迁移方案**：面板内移除 `/chat-console` 入口与路由，聊天操作统一引导至龙虾 Bot 自带 UI。

## 修改需求

### 需求：仪表盘状态总览

面板必须在仪表盘提供一页式巡检，集中展示运行状态、模型、渠道、Skills、错误摘要和版本信息。

#### 场景：一页巡检
- **当** 用户打开仪表盘
- **那么** 系统必须在同一页面展示运行状态、当前模型、渠道统计、Skills 统计、错误摘要与版本状态

#### 场景：快捷操作入口
- **当** 用户需要继续操作（模型、渠道、技能、更新、服务控制）
- **那么** 仪表盘必须提供可直接跳转的快捷入口，减少侧栏来回切换

#### 场景：运行态明细
- **当** 用户需要确认当前“到底哪些渠道和技能在运行”
- **那么** 仪表盘必须展示渠道运行态和 Skills 运行态明细列表

#### 场景：模型快速切换风险提示
- **当** 用户在仪表盘快速切换默认模型，且目标模型上下文上限更小
- **那么** 系统必须提示“可能因上下文超限导致失败”的风险，并要求确认后再执行切换

#### 场景：入口收敛与兼容
- **当** 用户从旧入口或历史链接访问状态总览
- **那么** 系统必须将状态巡检统一到仪表盘，并保证旧路径可兼容访问

### 需求：版本管理闭环

面板必须提供龙虾控制台版本检查、更新包准备、应用更新并重启、回滚包准备能力，更新包来源固定为公开仓库 release。

#### 场景：检查更新
- **当** 用户点击“检查更新”
- **那么** 系统必须返回当前版本与上游最新版本

#### 场景：一键升级
- **当** 用户输入目标版本并点击“准备更新包”
- **那么** 系统必须下载目标版本包并保持当前运行版本不变

#### 场景：应用更新并重启
- **当** 用户完成“准备更新包”后点击“应用更新并重启”
- **那么** 系统必须重启面板服务并应用已准备版本

#### 场景：升级失败自动回滚
- **当** 用户执行“应用更新并重启”后服务未进入 running 状态
- **那么** 系统必须自动回滚到升级前镜像并返回回滚结果
