# 深挖报告 2.3：状态总览侧栏迁移

创建时间：2026-02-16

## 本轮目标

完成任务 `2.3`：把重复的“状态总览”从侧栏迁移并收敛到“仪表盘”，降低用户页面选择成本，同时保证历史路径可兼容访问。

## 实施范围

- 前端结构：
  - `public/index.html`
  - `public/app.js`
  - `public/app-routes.js`
- 测试：
  - `test/unit/app-routes.test.js`
- 文档与证据：
  - `plan/2026-02-16_ClawX源码调研/任务清单.md`
  - `plan/2026-02-16_ClawX源码调研/evidence/dashboard-status-migration-live.md`

## 关键改动

### 1) 侧栏入口收敛

- 移除侧栏 `状态总览` tab。
- 删除独立 `panel-status-overview` 页面结构，避免与仪表盘重复展示。

### 2) 旧路径兼容

- `public/app-routes.js` 新增别名逻辑：
  - `/status-overview` -> `panel-dashboard`
- `isKnownPanelPath` 保留 `/status-overview` 为合法路径，避免旧链接进入 fallback。

### 3) 清理冗余逻辑

- 删除仅服务于旧页面的绑定逻辑（状态总览按钮监听）。
- 保留仪表盘聚合刷新主链路，避免能力回退。

## 验证结果

1. 自动化：
   - `npm run test:unit` 通过（新增路由别名断言）
   - `npm run test:regression` 通过
2. Docker：
   - `docker compose up -d --build panel` 成功
3. 运行态：
   - 侧栏不再显示“状态总览”
   - 访问 `/status-overview` 显示仪表盘内容
   - 证据：`evidence/dashboard-status-migration-live.md`

## 用户视角变化

1. 入口更少：不用在“仪表盘”和“状态总览”之间来回切。
2. 行为更稳：历史收藏链接仍可用，不会打开空白页。
3. 认知更清晰：状态巡检唯一入口就是“仪表盘”。

## 结论

`2.3` 已完成，信息架构从“双入口重复”收敛到“单入口聚合”。  
下一步建议执行 `2.2`：在仪表盘增加模型快速切换入口，并复用已实现的上下文风险提示逻辑。
