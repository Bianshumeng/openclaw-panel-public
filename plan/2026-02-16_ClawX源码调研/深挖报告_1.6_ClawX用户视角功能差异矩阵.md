# 深挖报告 1.6：ClawX 用户视角功能差异矩阵

创建时间：2026-02-16

## 目标

在“插件式控制器”边界不变的前提下，对比 `third_party/ClawX` 与当前控制台的**用户可见功能**，明确：

1. 哪些能力已对齐；
2. 哪些能力是“有但难用”；
3. 哪些能力仍需迁移；
4. 小白用户优先的落地顺序。

## 对比范围

- 参考项目：`third_party/ClawX`
- 当前项目：本仓库 `public/*` + `src/*`
- 页面范围：Dashboard、Chat、Channels、Skills、Providers/Updates

## 差异矩阵（用户视角）

| 模块 | ClawX（用户看到的能力） | 当前面板状态 | 差异等级 | 结论 |
|------|-------------------------|-------------|---------|------|
| Dashboard | 状态卡片 + 快捷入口 + 渠道/技能摘要 | 已有状态卡片与摘要，但信息分散在“仪表盘/状态总览”两个页面 | 中 | 合并信息密度与快捷操作，减少页面跳转 |
| Chat | 主聊天页（多会话、流式、thinking、发送/停止、更自然消息区） | 已有 API 能力，但前端是“对话控制台”调试风格（原始事件流、术语偏技术） | 高 | 升级为“主聊天工作台”是当前最高优先级 |
| Channels | 配置+连通性测试+状态反馈 | 已有配置与测试，但交互提示偏技术，错误回显聚合在全局日志 | 中 | 保持后端逻辑，补字段级提示与步骤化引导 |
| Skills | 列表、启停、详情、市场（ClawX） | 已有列表/启停/只读配置；无配置编辑、无市场 | 中 | 先补“可编辑关键配置”，市场能力按需延后 |
| Providers | 提供商增删改查、默认切换、校验 | 已有默认模型/模板/自定义，功能主干存在 | 低 | 继续打磨小白体验（模板优先、少填字段） |
| Updates | 检查/下载/安装进度与提示 | 已有检查/升级/回滚，具备闭环 | 低 | 以稳定优先，UI细节后置 |

## 当前确认可直接迁移的高价值能力

1. Chat 主页面交互范式：
   - 会话列表+新建会话；
   - 聊天气泡式历史展示；
   - 流式输出原位渲染（而不是原始事件日志）；
   - thinking 显示开关；
   - 中止（Stop）按钮与发送态收敛。
2. Dashboard 入口联动：
   - 在仪表盘提供到 Chat/Channels/Skills 的快捷跳转；
   - 按“用户要做的事”组织信息，而不是按系统模块分散。
3. Skills 管理可操作化：
   - 在“查看配置”基础上增加“编辑关键项并保存”能力。

## 暂不迁移项（明确边界）

1. 首次安装向导（不符合预装交付场景）。
2. 任务调度与主题系统（非当前交付主线）。
3. Electron 专属能力（托盘、桌面更新机制、IPC UI 细节）。

## 迁移优先级（小白优先）

1. P0：Chat 页面从“调试控制台”升级为“主聊天工作台”。
2. P1：Dashboard 与状态总览整合成“更少页面、更直观动作”。
3. P1：Skills 增加可编辑配置入口。
4. P2：Channels 的字段级错误提示与分步指引。
5. P2：Providers/Updates 的细节交互优化。

## 风险与控制

1. 风险：Chat 前端改造容易破坏现有 SSE 收敛逻辑。  
   控制：先保持后端协议不变，仅替换展示层；新增单测覆盖会话新建与终态收敛。
2. 风险：为了“简单”误删高级能力。  
   控制：保留高级入口，但默认折叠为“高级选项”。
3. 风险：Windows 开发通过但 Linux 运行异常。  
   控制：每阶段在 Docker（Linux 容器）做回放，结果落 `evidence/`。

## 本报告结论

当前最该抄的不是“再加一个调试页”，而是把现有 `/chat-console` 直接升级成小白可用的主聊天页。  
后端能力已具备基础条件，下一步应优先改前端交互模型，再补“新建会话”后端接口来完成闭环。
