# 本地面板网关重启跨平台修复

创建时间：2026-02-27 03:03:09

## 为什么做
本地 Windows 面板点击“重启网关服务”失败，原因是当前实现只走 systemctl，非 Linux 环境必然失败，且前端未展示真实错误。

## 改什么
- 服务控制优先使用 `openclaw gateway <action>`（跨平台 CLI），仅在 Linux 且 CLI 缺失时回退 systemctl。
- 仪表盘重启提示显示后端输出，避免“失败但无原因”。
- 增补单测覆盖 CLI 优先/回退/缺失提示。

## 影响范围
- 涉及模块：服务控制（`src/systemd.js`）、仪表盘前端（`public/js/pages/model-dashboard-page.js`）、单元测试。
- 风险等级：L1。

## 不做什么（边界）
- 不新增远程 SSH 控制链路。
- 不改动 Docker 模式服务控制逻辑。
