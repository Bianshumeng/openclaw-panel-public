# OpenClaw面板

最后更新：2026-02-16

## 能力概述

提供 OpenClaw 的本机可视化配置、服务管理与日志排障能力，目标是让最终用户不需要命令行即可完成常见运维操作。

## 需求列表

### 需求：可视化配置中心

面板必须支持以字段化方式编辑 OpenClaw 关键配置，至少覆盖 API、Base URL、模型、Telegram、飞书、Discord、Slack 等常用字段。

#### 场景：字段化编辑
- 当 用户进入配置中心并修改关键字段
- 那么 系统必须进行输入校验并写入配置文件

#### 场景：敏感字段保护
- 当 用户查看已保存的 API Key 或 Secret
- 那么 面板必须默认掩码显示，不直接明文回显

#### 场景：字段校验
- 当 用户提交配置
- 那么 系统必须执行必填、URL 格式、模型名非空等基础校验

#### 场景：OpenClaw 官方字段映射
- 当 用户修改模型与渠道配置
- 那么 系统必须映射到官方字段：`models.providers.*`、`agents.defaults.model.primary`、`channels.telegram.*`、`channels.feishu.*`、`channels.discord.*`、`channels.slack.*`

### 需求：运行参数可配置

面板必须支持监听地址、端口、OpenClaw 配置路径、服务名、容器名、日志来源、运行时模式等运行参数可配置。

#### 场景：模板适配
- 当 面板部署到不同模板机
- 那么 运维人员必须可通过配置修改运行参数而无需改代码

### 需求：服务生命周期控制

面板必须支持对 OpenClaw 运行实例执行启动、停止、重启、状态查询，且兼容 `systemd` 与 `docker` 两种运行时。

#### 场景：可视化启停
- 当 用户点击服务控制按钮
- 那么 系统必须返回明确的成功或失败结果及错误原因

#### 场景：运行时切换
- 当 目标环境采用 Docker 部署
- 那么 系统必须通过容器名执行状态查询与启停控制，而不是依赖 systemd

### 需求：日志可观测

面板必须提供实时日志查看与错误定位能力。

#### 场景：实时日志
- 当 用户打开日志页面
- 那么 系统必须展示实时追加日志并支持关键字过滤

#### 场景：错误摘要
- 当 系统读取日志记录
- 那么 系统必须提供最近 N 条错误摘要以便快速排障

#### 场景：日志来源切换
- 当 目标环境日志策略不同
- 那么 系统必须支持 `journal`、`file` 与 `docker` 三种日志来源

### 需求：版本管理闭环

面板必须提供 OpenClaw 版本检查、升级、回滚能力，并在升级失败时自动回滚。

#### 场景：检查更新
- 当 用户点击“检查更新”
- 那么 系统必须返回当前版本与上游最新版本

#### 场景：一键升级
- 当 用户输入目标版本并执行升级
- 那么 系统必须拉取目标镜像并重建网关容器

#### 场景：升级失败自动回滚
- 当 升级后容器未进入 running 状态
- 那么 系统必须自动回滚到升级前镜像并返回回滚结果

### 需求：安全基线

面板默认只能监听本机回环地址，不可默认直接暴露公网。

#### 场景：默认监听
- 当 面板首次启动
- 那么 监听地址必须为 127.0.0.1

#### 场景：外网访问
- 当 用户需要公网访问
- 那么 必须通过反向代理并由外层提供鉴权

#### 场景：用户页面防泄露
- 当 终端用户使用可视化页面
- 那么 页面不应展示小鸡监听地址、端口、网关端点等基础设施字段
